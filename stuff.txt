*------Index.js------*

// slash command prereq
// const { SlashCommandBuilder } = require('@discordjs/builders');
// const { REST } = require('@discordjs/rest');
// const { Routes } = require('discord-api-types/v9');

// When the client is ready, run this code (only once)
// client.on('ready', () => {
//     console.log('Ready!');
//     // get guild
//     const guild = client.guilds.cache.get(guildid)
//     let commands
//     //  check if guild exist
//     if(guild){
//         commands = guild.commands
//     }
//     else{
//         commands = client.application?.commands
//     }
//     commands?.create({
//         name:'ping',
//         description:'Reply with pong',    
//     })
// });

// client.on('interactionCreate', async (interaction) => {
//     if(!interaction.isCommand()){
//         return
//     }
//     const {commandName, options} = interaction
//     if (commandName===`ping`){
//         interaction.reply({
//             content: 'pong',
//             ephemeral: true,
//         })
//     }
// })
// client.on('messageCreate',(message) => {
//     if(message.content===`${prefix}ping`){
//         message.reply({content:'pong'})
//     }
// })

*-----CommandHandler.js------*

        // Currentguild.commands.set(CommandsArray).then(async(command) => {
        //     const Roles = (commandName) => {
        //         const CmdPerms = CommandsArray.find((c)=>c.name === commandName).permission
        //         if(!CmdPerms) return null;
        //         // get roles from cache
        //         return Currentguild.roles.cache.filter((r)=>r.permissions.has(CmdPerms))
        //     }

        //     const fullPermissions = command.reduce((accumulator,r)=>{
        //         const roles = Roles(r.name);
        //         if(!roles) return accumulator;
                
        //         const permissions = roles.reduce((a,r)=>{
        //             return[...a, {id: r.id,type:'ROLE',permission:true}]
        //         },[]);

        //         return [...accumulator,{id:r.id,permissions}]
        //     },[]);

        //     await Currentguild.commands.permissions.set({fullPermissions})
        // });

// send status in channel
        const status = new MessageEmbed()
            .setColor('RANDOM')
            .setDescription(`**Client:** ğŸŸ¢ Online, **Db:**${connection.readyState}`)
        client.guilds.cache.get(guildid).channels.cache.get('983002770468655195').send({embeds: [status]})

// import event handler
require('./Handlers/EventHandler.js')(client);
// import command handler
require('./Handlers/CommandHandler')(client);